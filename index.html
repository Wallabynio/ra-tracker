<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Istvan's RA Diet and Gym Tracker</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
:root{
  --safe-top:max(16px,env(safe-area-inset-top));
  --safe-bottom:max(16px,env(safe-area-inset-bottom));
  --safe-left:max(16px,env(safe-area-inset-left));
  --safe-right:max(16px,env(safe-area-inset-right));
  --accent-green:#10b981;
  --accent-blue:#3b82f6;
  --accent-orange:#f59e0b;
  --accent-purple:#a78bfa;
  --text-primary:#1d1d1f;
  --text-secondary:#6b7280;
  --bg-light:#f8f9fa;
  --bg-surface:#ffffff;
  --border-light:#e5e7eb;
}
html,body{width:100%;height:100%;}
body{
  font-family:-apple-system,BlinkMacSystemFont,'SF Pro Display','Helvetica Neue',Helvetica,Arial,sans-serif;
  background:#f8f9fa;
  color:var(--text-primary);
  line-height:1.5;
  padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}
@media(prefers-color-scheme:dark){
  body{
    background:#1a1a1a;
    --bg-light:#2a2a2a;
    --bg-surface:#1f1f1f;
    --text-primary:#f5f5f5;
    --text-secondary:#a0a0a0;
    --border-light:#333333;
  }
  body{color:#f5f5f5;}
}
.app-container{display:flex;height:100vh;flex-direction:column;}
.header{
  background:linear-gradient(135deg,#0f172a 0%,#1e293b 50%,#334155 100%);
  color:white;
  padding:24px var(--safe-left) 0;
  text-align:center;
  flex-shrink:0;
  position:relative;
  overflow:hidden;
}
.header::before{
  content:'';
  position:absolute;
  top:0;left:0;right:0;bottom:0;
  background:
    radial-gradient(circle at 30% 20%,rgba(59,130,246,0.15) 0%,transparent 50%),
    radial-gradient(circle at 70% 80%,rgba(16,185,129,0.15) 0%,transparent 50%);
  opacity:0.6;
  z-index:0;
}
.header h1{
  font-size:clamp(24px,6vw,36px);
  font-weight:700;
  margin:0 0 8px;
  position:relative;
  z-index:1;
  letter-spacing:-0.02em;
}
.header p{
  font-size:clamp(13px,3vw,15px);
  opacity:0.9;
  margin:0 0 24px;
  position:relative;
  z-index:1;
}
.main-content{display:flex;flex:1;overflow:hidden;gap:0;}
.sidebar{
  width:100%;
  background:var(--bg-light);
  border-right:1px solid var(--border-light);
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  padding:0;
  z-index:10;
}
.nav-buttons{
  display:flex;
  flex-direction:row;
  gap:8px;
  padding:16px;
  overflow-x:auto;
  background:var(--bg-surface);
  border-bottom:1px solid var(--border-light);
  flex-shrink:0;
}
.nav-btn{
  padding:10px 16px;
  border:none;
  border-radius:12px;
  background:var(--bg-light);
  color:var(--text-primary);
  font-size:15px;
  font-weight:600;
  cursor:pointer;
  transition:all 0.2s;
  white-space:nowrap;
  flex-shrink:0;
  border:1px solid transparent;
}
.nav-btn:hover{background:var(--border-light);}
.nav-btn.active{
  background:var(--accent-green);
  color:white;
  box-shadow:0 4px 12px rgba(16,185,129,0.3);
}
.nav-btn.active.shop{
  background:var(--accent-orange);
  box-shadow:0 4px 12px rgba(245,158,11,0.3);
}
.nav-btn.active.gym{
  background:var(--accent-blue);
  box-shadow:0 4px 12px rgba(59,130,246,0.3);
}
.nav-btn.active.tracker{
  background:var(--accent-purple);
  box-shadow:0 4px 12px rgba(167,139,250,0.3);
}
.category-header{
  padding:28px 16px 20px;
  text-align:center;
  background:var(--bg-light);
}
.category-icon{
  width:88px;
  height:88px;
  margin:0 auto 20px;
  border-radius:28px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:40px;
  box-shadow:0 12px 32px rgba(0,0,0,0.12),0 0 0 1px rgba(255,255,255,0.8);
}
.category-icon.meals{
  background:linear-gradient(135deg,#a7f3d0,#86efac);
}
.category-icon.shop{
  background:linear-gradient(135deg,#fef3c7,#fde68a);
}
.category-icon.gym{
  background:linear-gradient(135deg,#bfdbfe,#93c5fd);
}
.category-icon.tracker{
  background:linear-gradient(135deg,#e9d5ff,#d8b4fe);
}
.category-title{
  font-size:28px;
  font-weight:600;
  margin:0;
  color:var(--text-primary);
  letter-spacing:-0.01em;
}
.section-list{
  padding:12px 20px;
  background:var(--bg-light);
  border-bottom:1px solid var(--border-light);
}
.section-item{
  padding:14px 16px;
  margin-bottom:10px;
  background:var(--bg-surface);
  border-radius:12px;
  cursor:pointer;
  transition:all 0.2s ease;
  border:1px solid var(--border-light);
  display:flex;
  align-items:center;
  gap:12px;
}
.section-item:hover{
  background:var(--bg-light);
  border-color:var(--accent-green);
}
.section-item.active{
  background:var(--accent-green);
  color:white;
  border-color:var(--accent-green);
  box-shadow:0 2px 8px rgba(16,185,129,0.2);
}
.section-item.active.shop{
  background:var(--accent-orange);
  border-color:var(--accent-orange);
  box-shadow:0 2px 8px rgba(245,158,11,0.2);
}
.section-item.active.gym{
  background:var(--accent-blue);
  border-color:var(--accent-blue);
  box-shadow:0 2px 8px rgba(59,130,246,0.2);
}
.section-item.active.tracker{
  background:var(--accent-purple);
  border-color:var(--accent-purple);
  box-shadow:0 2px 8px rgba(167,139,250,0.2);
}
.section-item-icon{font-size:24px;flex-shrink:0;}
.section-item-text{flex:1;}
.section-item h3{
  font-size:15px;
  margin:0;
  font-weight:600;
  color:inherit;
}
.content-area{
  flex:1;
  overflow-y:auto;
  background:var(--bg-light);
  display:flex;
  flex-direction:column;
}
.category-header{
  padding:28px 20px 12px;
  text-align:center;
  background:var(--bg-surface);
  border-bottom:1px solid var(--border-light);
}
.content-panel{
  background:var(--bg-surface);
  padding:24px 20px;
  flex:1;
  display:none;
}
.content-panel.active{display:block;}
.content-panel h2{
  font-size:clamp(22px,5vw,28px);
  font-weight:600;
  margin:0 0 20px;
  color:var(--text-primary);
}
.content-panel h3{
  font-size:clamp(18px,4vw,22px);
  font-weight:600;
  margin:20px 0 16px;
  color:var(--text-primary);
}
.content-panel p{
  font-size:15px;
  color:var(--text-primary);
  margin:12px 0;
  line-height:1.6;
}
ul{list-style:none;padding:0;margin:12px 0;}
li{
  padding:12px 0 12px 28px;
  position:relative;
  font-size:15px;
  color:var(--text-primary);
}
li:before{
  content:'‚úì';
  position:absolute;
  left:0;
  color:var(--accent-green);
  font-weight:600;
  font-size:16px;
}
.shop li:before{color:var(--accent-orange);}
.gym li:before{color:var(--accent-blue);}
.tracker li:before{color:var(--accent-purple);}
.li-price{
  color:#059669;
  font-weight:600;
  font-size:13px;
  margin-top:2px;
}
.shop .li-price{color:#b45309;}
.gym .li-price{color:#1e40af;}
.tracker .li-price{color:#6d28d9;}
table{
  width:100%;
  border-collapse:collapse;
  font-size:14px;
  margin:12px 0;
}
th,td{
  padding:12px;
  text-align:left;
  border-bottom:1px solid var(--border-light);
  color:var(--text-primary);
}
th{
  background:var(--bg-light);
  font-weight:600;
}
.stat-box{
  background:linear-gradient(135deg,#f0fdf4 0%,#dcfce7 100%);
  border:1px solid #dcfce7;
  padding:16px;
  border-radius:12px;
  margin:16px 0;
  font-weight:600;
  color:#166534;
}
.shop .stat-box{
  background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%);
  border-color:#fde68a;
  color:#92400e;
}
.gym .stat-box{
  background:linear-gradient(135deg,#f0f4f8 0%,#dbeafe 100%);
  border-color:#dbeafe;
  color:#1e40af;
}
.tracker .stat-box{
  background:linear-gradient(135deg,#f3e8ff 0%,#e9d5ff 100%);
  border-color:#e9d5ff;
  color:#6d28d9;
}
.stat-box.orange{
  background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%);
  border-color:#fde68a;
  color:#92400e;
}
.warning{
  background:#fef3c7;
  border-left:4px solid #f59e0b;
  padding:16px;
  border-radius:8px;
  margin:16px 0;
  font-size:14px;
  color:#92400e;
}
.warning strong{color:#92400e;}
.slider-group{
  background:var(--bg-light);
  padding:16px;
  border-radius:12px;
  margin:16px 0;
}
.slider-label{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:12px;
  font-weight:600;
  font-size:14px;
}
.slider-value{
  background:var(--accent-green);
  color:white;
  padding:4px 12px;
  border-radius:20px;
  font-weight:700;
  font-size:16px;
  min-width:36px;
  text-align:center;
}
.slider-group.pain .slider-value{background:var(--accent-blue);}
.slider-group.fatigue .slider-value{background:var(--accent-orange);}
.tracker .slider-group .slider-value{background:var(--accent-purple);}
.tracker .slider-group.pain .slider-value{background:var(--accent-purple);}
.tracker .slider-group.fatigue .slider-value{background:var(--accent-purple);}
input[type="range"]{
  width:100%;
  height:6px;
  border-radius:3px;
  cursor:pointer;
  accent-color:var(--accent-green);
}
.slider-group.pain input{accent-color:var(--accent-blue);}
.slider-group.fatigue input{accent-color:var(--accent-orange);}
.tracker .slider-group input{accent-color:var(--accent-purple);}
@media(min-width:1024px){
  .main-content{gap:24px;}
  .sidebar{
    width:280px;
    flex-shrink:0;
    padding:20px;
    border-right:1px solid var(--border-light);
  }
  .nav-buttons{
    flex-direction:column;
    padding:0;
    background:transparent;
    border:none;
    gap:12px;
  }
  .nav-btn{
    width:100%;
    padding:12px 16px;
    text-align:left;
  }
  .section-list{padding:0;}
  .content-area{padding:20px;}
  .content-panel{
    border-radius:16px;
    padding:32px;
  }
}
@media(max-width:600px){
  .header{padding:20px 16px 0;}
  .header h1{font-size:24px;}
  .header p{font-size:13px;}
  .main-content{flex-direction:column;}
  .sidebar{
    width:100%;
    border-right:none;
    border-bottom:1px solid var(--border-light);
  }
  .nav-buttons{
    overflow-x:auto;
    padding:12px;
  }
  .nav-btn{
    padding:10px 14px;
    font-size:12px;
  }
  .content-area{padding:12px;}
  .content-panel{
    padding:16px;
    border-radius:12px;
  }
  .content-panel h2{
    font-size:20px;
    margin-bottom:16px;
  }
}
@media(prefers-color-scheme:dark){
  .nav-btn.active{
    box-shadow:0 4px 12px rgba(16,185,129,0.4);
  }
  .nav-btn.active.gym{
    box-shadow:0 4px 12px rgba(59,130,246,0.4);
  }
  .nav-btn.active.shop{
    box-shadow:0 4px 12px rgba(245,158,11,0.4);
  }
  .nav-btn.active.tracker{
    box-shadow:0 4px 12px rgba(167,139,250,0.4);
  }
}
</style>
</head>
<body>
<div class="app-container">
  <div class="header">
    <h1>Istvan's wellness tracker</h1>
    <p>Personalised RA nutrition & fitness companion</p>
  </div>
  <div class="main-content">
    <div class="sidebar">
      <div class="nav-buttons">
        <button class="nav-btn active" onclick="switchNav('meals')">Meals</button>
        <button class="nav-btn shop" onclick="switchNav('shop')">Shopping</button>
        <button class="nav-btn gym" onclick="switchNav('gym')">Gym</button>
        <button class="nav-btn tracker" onclick="switchNav('tracker')">Tracker</button>
      </div>
    </div>
    <div class="content-area">
      <div class="category-header" id="categoryHeader"></div>
      <div class="section-list" id="sectionList"></div>
      <div id="contentArea"></div>
    </div>
  </div>
</div>
<script>
const sections={
  meals:{
    title:'Daily meal plan',
    icon:'üçΩÔ∏è',
    items:[
      {
        name:'Breakfast',
        icon:'üç≥',
        id:'breakfast',
        content:`<h3>Breakfast (~650 kcal)</h3>
<p><strong>Warm chia &amp; oat bowl:</strong> 10g chia seeds + 10g rolled oats heated in 100ml light milk. Mix with 100g Greek yoghurt, 100g warmed frozen mixed berries, ¬Ω tsp turmeric powder.</p>
<p><strong>Egg &amp; avocado:</strong> 2 large hard-boiled eggs mashed with 1 medium‚Äìlarge avocado. Season with ¬º tsp ground black pepper.</p>
<p><strong>Coffee:</strong> 1 cup with 150ml light milk (no sugar).</p>
<div class="stat-box"><strong>~650 kcal | ~42g protein | High omega-3, anti-inflammatory</strong></div>`
      },
      {
        name:'Lunch',
        icon:'‚òï',
        id:'lunch',
        content:`<h3>Lunch (~800 kcal)</h3>
<p><strong>Grains &amp; protein:</strong> 60g dry brown rice + 5g chia seeds boiled in 150ml water (35‚Äì40 min). ~150g grilled chicken breast.</p>
<p><strong>Salad:</strong> 50g kale, 75g cucumber, 50g tomato, 20g red onion. Drizzle with ¬Ω‚Äì1 tbsp olive oil + fresh lemon juice.</p>
<p><strong>Coffee:</strong> 1 cup with 150ml light milk (no sugar).</p>
<div class="stat-box"><strong>~800 kcal | ~40g protein | Whole grains, lean protein, cruciferous greens</strong></div>`
      },
      {
        name:'Dinner',
        icon:'üêü',
        id:'dinner',
        content:`<h3>Dinner (~655 kcal)</h3>
<p><strong>Vegetables (alternate daily):</strong> ¬Ω bunch asparagus OR ¬Ω bunch broccolini (choose one each day).</p>
<p><strong>Protein:</strong> 125g baked frozen salmon fillet.</p>
<p><strong>Carbs:</strong> 150g frozen sweet potato chips, baked.</p>
<p><strong>Dessert:</strong> 1 medium apple after dinner.</p>
<div class="stat-box"><strong>~655 kcal | ~35g protein | Omega-3 rich, colourful veg, extra fibre</strong></div>`
      },
      {
        name:'Daily summary',
        icon:'‚úì',
        id:'summary',
        content:`<h3>Daily nutrition summary</h3>
<div class="stat-box" style="background:linear-gradient(135deg,#e8f5e9 0%,#c8e6c9 100%);border-color:#a5d6a7;">
<strong>‚úì Total: ~2045 kcal | ~117g protein</strong>
<p style="margin:8px 0 0;font-size:14px;">Rich in omega-3, fibre, vitamins, minerals, anti-inflammatory compounds. Optimised for 0.5 kg/week weight loss.</p>
</div>
<p><strong>Key principles:</strong></p>
<ul>
<li>Same meals every day for consistency</li>
<li>Anti-inflammatory foods (turmeric, omega-3, colourful veg)</li>
<li>Balanced macros for RA management</li>
<li>High-quality protein to preserve muscle</li>
<li>No processed foods or added sugar</li>
</ul>`
      }
    ]
  },
  shop:{
    title:'Weekly shopping list',
    icon:'üõí',
    items:[
      {
        name:'Fresh produce',
        icon:'ü•¨',
        id:'produce',
        content:`<h3>Fresh produce</h3>
<ul>
<li>Kale ‚Äì 400g (~$7.00/kg)<span class="li-price">$2.80</span></li>
<li>Cucumber ‚Äì 550g (4 medium √ó $0.70)<span class="li-price">$2.80</span></li>
<li>Tomato ‚Äì 400g (3 medium √ó $0.70)<span class="li-price">$2.10</span></li>
<li>Red onion ‚Äì 150g (1 small √ó $0.60)<span class="li-price">$0.60</span></li>
<li>Asparagus ‚Äì 150g (1 bunch)<span class="li-price">$3.50</span></li>
<li>Broccolini ‚Äì 150g (1 bunch)<span class="li-price">$3.50</span></li>
<li>Frozen mixed berries ‚Äì 1kg<span class="li-price">$8.29</span></li>
<li>Apple ‚Äì 1.1kg loose (7 √ó $0.47)<span class="li-price">$3.30</span></li>
<li>Avocado ‚Äì 1.2kg (7 √ó $2.50)<span class="li-price">$17.50</span></li>
<li>Lemon ‚Äì 3 loose (3 √ó $0.70)<span class="li-price">$2.10</span></li>
</ul>
<div class="stat-box">Subtotal (Aldi): ~$46.49</div>`
      },
      {
        name:'Proteins & dairy',
        icon:'ü•ö',
        id:'proteins',
        content:`<h3>Proteins & dairy</h3>
<ul>
<li>Eggs ‚Äì 1 √ó 18-pack<span class="li-price">$5.99</span></li>
<li>Greek yoghurt ‚Äì 2 √ó 500g ($2.75 ea)<span class="li-price">$5.50</span></li>
<li>Light milk ‚Äì 2 √ó 2L ($3.19 ea)<span class="li-price">$6.38</span></li>
<li>Grilled chicken ‚Äì 1 √ó 1.38kg RSPCA<span class="li-price">$16.49</span></li>
<li>Frozen salmon ‚Äì 2 √ó 460g 4-packs ($15 ea)<span class="li-price">$30.00</span></li>
</ul>
<div class="stat-box">Subtotal (Aldi): $64.36</div>`
      },
      {
        name:'Grains & seeds',
        icon:'üåæ',
        id:'grains',
        content:`<h3>Grains & seeds</h3>
<ul>
<li>Chia seeds ‚Äì 1 √ó 350g (covers 3+ weeks)<span class="li-price">$5.49</span></li>
<li>Rolled oats ‚Äì 1 √ó 750g (covers 10+ weeks)<span class="li-price">$1.49</span></li>
<li>Brown rice ‚Äì 1 √ó 500g dry bulk bag<span class="li-price">$2.75</span></li>
<li>Sweet potato chips ‚Äì 1 √ó 1.1kg frozen<span class="li-price">$5.00</span></li>
</ul>
<div class="stat-box">Subtotal (Aldi): $14.73</div>`
      },
      {
        name:'Pantry & spices',
        icon:'üè∫',
        id:'pantry',
        content:`<h3>Pantry & spices</h3>
<ul>
<li>Extra virgin olive oil ‚Äì 1 √ó 250ml<span class="li-price">$5.00</span></li>
<li>Turmeric powder ‚Äì 1 √ó 50g (covers months)<span class="li-price">$4.00</span></li>
<li>Ground coffee ‚Äì 1 √ó 250g (covers 5+ weeks)<span class="li-price">$6.00</span></li>
</ul>
<div class="stat-box">Subtotal (Aldi): $15.00</div>
<div class="stat-box orange" style="margin-top:20px;">
<strong>Total weekly shop (Aldi): ~$140.58</strong>
<p style="margin:8px 0 0;font-size:13px;">All quantities match your meal plan. Packaged items last 2‚Äì10 weeks. Buy produce fresh each week. Prices: ALDI Australia, Jan 2026.</p>
</div>`
      }
    ]
  },
  gym:{
    title:'Daily exercise routine',
    icon:'üèãÔ∏è',
    items:[
      {
        name:'Warm-up',
        icon:'üö¥',
        id:'warmup',
        content:`<h3>Warm-up (5 min, daily)</h3>
<ul>
<li><strong>Easy elliptical:</strong> level 4‚Äì6, or</li>
<li><strong>Gentle treadmill walk:</strong> flat, slow pace, or</li>
<li><strong>Comfortable outdoor walk</strong></li>
</ul>
<p><strong>Pace:</strong> Slow enough to talk comfortably.</p>`
      },
      {
        name:'Strength',
        icon:'üí™',
        id:'strength',
        content:`<h3>Strength circuit (2‚Äì3 days/week)</h3>
<p><em>On other days: warm-up + stretches only.</em></p>
<table>
<tr><th>Exercise</th><th>Sets/Reps</th><th>Load</th><th>Notes</th></tr>
<tr><td>Leg press</td><td>2 √ó 8‚Äì10</td><td>Light‚Äìmoderate</td><td>No knee lockout</td></tr>
<tr><td>Seated leg curl</td><td>2 √ó 8‚Äì10</td><td>Light‚Äìmoderate</td><td>Controlled</td></tr>
<tr><td>Leg extension</td><td>1‚Äì2 √ó 8‚Äì10</td><td>Light</td><td>Short of lockout</td></tr>
<tr><td>Seated chest press</td><td>2 √ó 8‚Äì10</td><td>Light‚Äìmoderate</td><td>Elbows not deep</td></tr>
<tr><td>Seated row/lat pulldown</td><td>2 √ó 8‚Äì10</td><td>Light‚Äìmoderate</td><td>Chest, slow return</td></tr>
<tr><td>Abdominal crunch</td><td>2 √ó 10‚Äì12</td><td>Light</td><td>Pain-free only</td></tr>
</table>
<div class="warning"><strong>‚ö†Ô∏è RA Safety:</strong> Stop if sharp pain &gt;2/10. Adjust or skip any movement that hurts. Progress slowly. Consult your doctor before starting.</div>`
      },
      {
        name:'Cool-down',
        icon:'üßò',
        id:'cooldown',
        content:`<h3>Cool-down & flexibility (10 min, daily)</h3>
<ul>
<li><strong>Seated hamstring stretch:</strong> 2 √ó 20‚Äì30 s per side</li>
<li><strong>Chest & shoulder opener:</strong> against wall, 2 √ó 20‚Äì30 s</li>
<li><strong>Gentle neck & shoulder rolls:</strong> 10 circles each direction</li>
<li><strong>Ankle circles:</strong> 10 each direction, both feet</li>
<li><strong>Deep belly breathing:</strong> 10 slow breaths</li>
</ul>`
      }
    ]
  },
  tracker:{
    title:'Daily symptom tracker',
    icon:'üìä',
    items:[
      {
        name:'Log symptoms',
        icon:'üìä',
        id:'log',
        content:`<h3>Track your symptoms</h3>
<p>Use these sliders to monitor how meals and exercise affect your RA. Log daily to identify patterns.</p>
<div class="slider-group pain">
  <div class="slider-label">
    <label>Overall pain now (0‚Äì10)</label>
    <div class="slider-value" id="pain-value">5</div>
  </div>
  <input type="range" id="pain-slider" min="0" max="10" value="5" oninput="updateValue('pain')">
  <div class="slider-hint">0 = No pain | 10 = Worst pain imaginable</div>
</div>
<div class="slider-group">
  <div class="slider-label">
    <label>Morning stiffness (0‚Äì10)</label>
    <div class="slider-value" id="stiffness-value">5</div>
  </div>
  <input type="range" id="stiffness-slider" min="0" max="10" value="5" oninput="updateValue('stiffness')">
  <div class="slider-hint">0 = None | 10 = Severe, can't move</div>
</div>
<div class="slider-group fatigue">
  <div class="slider-label">
    <label>Fatigue (0‚Äì10)</label>
    <div class="slider-value" id="fatigue-value">5</div>
  </div>
  <input type="range" id="fatigue-slider" min="0" max="10" value="5" oninput="updateValue('fatigue')">
  <div class="slider-hint">0 = Energetic | 10 = Exhausted, can't get up</div>
</div>
<div class="warning">
  <strong>‚úì Use this tracker:</strong> Same meals & exercises every day. Focus on consistency, not perfection. Track symptoms to see what helps most. Adjust portions if needed. Always consult your clinician before major changes.
</div>`
      }
    ]
  }
};

let currentNav='meals',currentItem=0;

function switchNav(nav){
  const buttons=document.querySelectorAll('.nav-btn');
  buttons.forEach(btn=>btn.classList.remove('active'));
  event.target.classList.add('active');
  currentNav=nav;
  currentItem=0;
  renderSidebar();
  renderContent();
}

function selectItem(idx){
  currentItem=idx;
  const items=document.querySelectorAll('.section-item');
  items.forEach(item=>item.classList.remove('active'));
  items[idx].classList.add('active');
  renderContent();
}

function renderSidebar(){
  const section=sections[currentNav];
  const iconMap={meals:'üçΩÔ∏è',shop:'üõí',gym:'üèãÔ∏è',tracker:'üìä'};
  const icon=iconMap[currentNav];
  const header=document.getElementById('categoryHeader');
  const list=document.getElementById('sectionList');
  header.innerHTML=
    `<div class="category-icon ${currentNav}">${icon}</div>
     <div class="category-title">${section.title}</div>`;
  let html='';
  section.items.forEach((item,idx)=>{
    const activeClass=idx===currentItem?'active':'';
    const categoryClass=currentNav==='shop'
      ? 'shop'
      : currentNav==='gym'
      ? 'gym'
      : currentNav==='tracker'
      ? 'tracker'
      : '';
    html+=
      `<div class="section-item ${activeClass} ${categoryClass}" onclick="selectItem(${idx})">
         <span class="section-item-icon">${item.icon||''}</span>
         <div class="section-item-text"><h3>${item.name}</h3></div>
       </div>`;
  });
  list.innerHTML=html;
}

function renderContent(){
  const area=document.getElementById('contentArea');
  const section=sections[currentNav];
  const item=section.items[currentItem];
  const categoryClass=currentNav==='shop'
    ? 'shop'
    : currentNav==='gym'
    ? 'gym'
    : currentNav==='tracker'
    ? 'tracker'
    : '';
  area.innerHTML=`<div class="content-panel active ${categoryClass}">${item.content}</div>`;
}

function updateValue(type){
  let slider,display;
  if(type==='pain'){
    slider=document.getElementById('pain-slider');
    display=document.getElementById('pain-value');
  }else if(type==='stiffness'){
    slider=document.getElementById('stiffness-slider');
    display=document.getElementById('stiffness-value');
  }else if(type==='fatigue'){
    slider=document.getElementById('fatigue-slider');
    display=document.getElementById('fatigue-value');
  }
  if(slider && display) display.textContent=slider.value;
}

renderSidebar();
renderContent();
</script>
</body>
</html>
